@page
@model CoffeeShop.Areas.Shared.Pages.Order.BillModel

@{
    ViewData["Title"] = "Bill Summary";
    Layout = "/Areas/Shared/_Layout.cshtml";
    int index = 1;
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

    <div class=" d-md-flex justify-content-between align-items-center border-top border-bottom border-primary my-5 py-3">
        <h2 class="display-6 fw-bold m-0">Your Bill</h2>
         @foreach (var order in Model.Orders)
        {
        <div>
            <p class="m-0"> <span class="fw-bold">Table: </span>@order.TableID</p>
            <p class="m-0"> <span class="fw-bold">Invoice Date: </span>@order.OrderDate.ToString("MMM d, yyyy h:mm tt")</p>
        </div>
        }
    </div>

    <div class="py-0">
        <table class="table table-striped border my-5">
            <thead>
                <tr>
                    <th scope="col">Item</th>
                    <th scope="col">Size</th>
                    <th scope="col">Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">SubTotal</th>
                </tr>
            </thead>
            <tbody>
            @foreach (var orderDetail in Model.OrderDetails)
            {
                <tr>
                    <td>@orderDetail.ProductSize.Product.ProductName</td>
                    <td>@orderDetail.ProductSize.Size.SizeName</td>
                    <td>@orderDetail.UnitPrice</td>
                    <td>@orderDetail.Quantity</td>
                    <td>@((@orderDetail.UnitPrice * @orderDetail.Quantity).ToString("F2"))</td>
                </tr>
            }
            @foreach (var order in Model.Orders)
            {
            <tr>
                <td colspan="4"><strong>Total</strong></td>
                <td>@order.TotalAmount</td>
            </tr>
            }
            </tbody>
        </table>
    </div>
    <div class="text-center">
        <a href="/Shared/Order/OrderPage" class="btn btn-primary">Back to Menu</a>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>